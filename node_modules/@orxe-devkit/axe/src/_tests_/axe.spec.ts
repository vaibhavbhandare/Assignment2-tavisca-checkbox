import { configure, toHaveNoViolations, defaultConfig } from '../index';
expect.extend(toHaveNoViolations);

describe('Axe Package Fixtures', () => {
	it('testing default config - branding', () => {
		let config = defaultConfig;
		expect(config.branding).toStrictEqual({
			brand: 'ORXe',
			application: 'orxe-axe API',
		});
	});

	it('testing default config- runOnly', () => {
		let config = defaultConfig;
		expect(config.runOnly).toStrictEqual({
			type: 'tag',
			values: ['wcag2a', 'wcag2aa', 'section508', 'best-practice'],
		});
	});

	it('testing default config- resultTypes ', () => {
		let config = defaultConfig;
		expect(config.resultTypes).toStrictEqual(['violations', 'incomplete']);
	});

	it('testing default config- rules', () => {
		let config = defaultConfig;
		expect(config.rules).toStrictEqual({});
	});

	it('testing configure and Axe method', async () => {
		let axe = configure(defaultConfig);
		let element = '<div role="main"><img src="#" alt="image"/></div>';
		let results = await axe(element);
		expect(results).toHaveNoViolations();
	});
});
